# **拉罷地圖工具**

這是一個前端視覺化專案，旨在協助罷免案志工、政治工作者或任何關心台灣政治的公民，透過互動式地圖與數據圖表，分析歷年地方選舉的村里層級數據，以制定更有效的溝通與拉票策略。

## **✨ 主要功能**

* **互動式地圖**：使用 [Leaflet.js](https://leafletjs.com/) 顯示台灣各村里的地理邊界，並根據選舉結果的政黨傾向進行顏色編碼。  
* **多年份/多類型選舉資料**：可自由切換分析 2012 至 2024 年間的「總統」、「立法委員」、「縣市長」與「政黨票」選舉資料。  
* **引導式分析流程**：  
  * **篩選與設定**：在統一的面板中選擇選舉類型、年份、搜尋候選人或選區。  
  * **選區總覽**：選擇選區後，立即顯示該選區整體的候選人得票分佈。  
  * **村里詳情**：點擊地圖上的任一村里，深入查看該地的詳細數據。  
* **深度數據儀表板**：  
  * **關鍵指標**：包含「催票率」與「未投票率」，幫助評估候選人基本盤實力與潛在動員空間。  
  * **得票分佈**：使用 [Chart.js](https://www.chartjs.org/) 以長條圖呈現各候選人的得票數。  
  * **歷史趨勢分析**：以折線圖呈現單一村里歷年選舉中，各主要政黨的「催票率」與「未投票率」消長趨勢。  
  * **高度搖擺區識別**：地圖上以**黃色外框**標示出在歷次選舉中政黨傾向轉變頻繁的村里，幫助使用者快速識別關鍵搖擺區。  
* **個人化標註系統**：  
  * 使用者可針對感興趣的村里新增、編輯或刪除個人註解。  
  * 標註會以圖釘顯示在地圖上，方便快速定位與管理。  
* **資料匯出**：可將所有標註匯出為 .CSV 或 .KML 格式，方便在其他軟體（如 Google Earth, Excel）中進一步分析或共享。  
* **響應式設計**：介面會自動適應桌面與行動裝置，方便在各種裝置上使用。

## **🎯 已知限制**

* **2012 年村里圖資限制**：由於 2012 年的村里行政區劃與現行圖資 (village.json) 無法完全對應，因此選擇 **2012 年**的任何選舉資料時，將**無法繪製村里層級的地圖**。使用者仍然可以查看該年份各選區的整體得票概況與數據。

## **🚀 如何使用**

本工具的操作流程被設計為三個步驟，您可以透過資訊面板上的導覽列輕鬆切換：

1. **選舉設定**：選擇您想分析的選舉類型（如：區域立委）與年份。  
2. **選區設定**：從下拉選單或搜尋框中找到您感興趣的選區。  
3. **村里分析**：點擊地圖上的村里，查看詳細數據圖表。  
4. **歷史趨勢**：在村里分析圖表中，查看該地歷年的政黨版圖變化。

## **🛠️ 技術棧**

* **地圖**: [Leaflet.js](https://leafletjs.com/)  
* **圖表**: [Chart.js](https://www.chartjs.org/)  
* **前端框架/函式庫**: Vanilla JavaScript, [Tailwind CSS](https://tailwindcss.com/)  
* **地理資料格式**: [TopoJSON](https://github.com/topojson/topojson)

## **✅ 進度與待辦事項 (Progress & To-Do)**

### **已完成 (v34.0.0)**

* \[x\] **資料驗證與功能修正**：  
  * 已修正政黨票與各選舉類型在計算「高度搖擺區」時的邏輯錯誤。  
  * 已補上村里詳情中，第二高票候選人的催票率數據。  
* \[x\] **釐清 2012 年圖資問題**：確認因行政區劃變更，導致 2012 年資料無法對應至現行村里圖資，並在 UI 中加入相關提示。

### **待辦事項**

* \[ \] **第一線志工體驗與建議**：蒐集使用者回饋，確認功能是否符合實際拉票需求。  
* \[ \] **圖資檢查**：檢查 village.json 圖資是否有遺失或錯誤的村里邊界。  
* \[ \] **資料驗證**：全面驗證各年份選舉數據的準確性。  
* \[ \] **使用者介面優化 (UI/UX)**：  
  * \[ \] 針對長輩或非技術背景使用者，設計更友善、直觀的操作介面。  
* \[ \] **推廣策略**：  
  * \[ \] 研擬上架與推廣方式，觸及更多目標使用者。  
* \[ \] **演算法優化**：  
  * \[ \] 研究更精準的熱區（藍營鐵票、綠營鐵票、搖擺區）建議方法。  
* \[ \] **資料整合評估**：  
  * \[ \] 確認納入更多維度資料的需求（例如：人口特徵、歷次民調數據）。  
* \[ \] **效能提升**：  
  * \[ \] 提高地圖繪圖速度。  
  * \[ \] 降低行動裝置的資源負擔。  
* \[ \] **功能擴充**：  
  * \[ \] 評估匯出資料、註解功能與其它工具（如：Google Maps, Notion）結合的可行性。

## **🤝 貢獻**

歡迎任何形式的貢獻，包含回報問題 (Issue)、提交功能請求 (Pull Request) 或提供建議。
